(this.webpackJsonpproject_1=this.webpackJsonpproject_1||[]).push([[0],{103:function(e,t,a){e.exports=a(119)},110:function(e,t,a){},111:function(e,t,a){},119:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),o=a(86),l=a.n(o),r=(a(110),a(111),a(75));a(120);r.a.initializeApp({apiKey:"AIzaSyDA4nfvCCUkFvA0wM7KX49fx5oxhDLFMDg",authDomain:"todo-app-c1264.firebaseapp.com",projectId:"todo-app-c1264",storageBucket:"todo-app-c1264.appspot.com",messagingSenderId:"54697558809",appId:"1:54697558809:web:fdeb5a162c546b1d507b88"});var s=r.a,m=a(25),d=a.n(m);const i=Object(c.createContext)();function u(e){let{children:t}=e;const[a,o]=Object(c.useState)("today"),[l,r]=Object(c.useState)(void 0),m=function(){const[e,t]=Object(c.useState)([]);return Object(c.useEffect)(()=>{console.log("Todos");let e=s.firestore().collection("todos").onSnapshot(e=>{const a=e.docs.map(e=>({id:e.id,...e.data()}));t(a)});return()=>e()},[]),e}(),u=function(e,t){const[a,n]=Object(c.useState)([]);return Object(c.useEffect)(()=>{const a=e.map(e=>({numOfTodos:t.filter(t=>t.projectName===e.name&&!t.checked).length,...e}));n(a)},[e,t]),a}(function(){const[e,t]=Object(c.useState)([]);return Object(c.useEffect)(()=>{console.log("Projects");let e=s.firestore().collection("projects").onSnapshot(e=>{const a=e.docs.map(e=>({id:e.id,name:e.data().name}));t(a)});return()=>e()},[]),e}(),m),E=function(e,t){const[a,n]=Object(c.useState)([]);return Object(c.useEffect)(()=>{let a;const c=d()().format("MM/DD/YYYY");a="today"===t?e.filter(e=>e.date===c):"next 7 days"===t?e.filter(e=>{const t=d()(e.date,"MM/DD/YYYY"),a=d()(c,"MM/DD/YYYY"),n=t.diff(a,"days");return n>=0&&n<7}):"all days"===t?e:e.filter(e=>e.projectName===t),n(a)},[e,t]),a}(m,a);return n.a.createElement(i.Provider,{value:{selectedProject:a,setSelectedProject:o,todos:E,projects:u,defaultProject:"today",selectedTodo:l,setSelectedTodo:r}},t)}var E=function(e){let{children:t}=e;const{setSelectedTodo:a}=Object(c.useContext)(i),o=Object(c.useRef)();Object(c.useEffect)(()=>(document.addEventListener("click",l),()=>document.removeEventListener("click",l)));const l=e=>{(e.target===o.current||o.current.contains(e.target))&&a(void 0)};return n.a.createElement("div",{className:"Sidebar",ref:o},t)};var p=e=>{let{children:t}=e;return n.a.createElement("div",{className:"Main"},t)},j=a(87),f=a.n(j);var v=()=>n.a.createElement("div",{className:"User"},n.a.createElement("div",{className:"logo"},n.a.createElement("img",{src:f.a,alt:"logo"})),n.a.createElement("div",{className:"info"},n.a.createElement("p",null,"To Do List"))),b=a(20);var h=function(e){let{children:t,showModal:a,setShowModal:o}=e;const l=Object(c.useRef)(),r=Object(b.b)({opacity:a?1:0,top:a?"25%":"0%",config:{friction:10}});return a&&n.a.createElement("div",{className:"Modal",ref:l,onClick:e=>{e.target===l.current&&o(!1)}},n.a.createElement(b.a.div,{style:r,className:"container"},t))},N=a(146),y=a(147),O=a(155),S=a(156),g=a(157),k=a(23),x=a(148),C=a(169),w=a(90);var M=e=>{let{handleSubmit:t,heading:a=!1,text:c,setText:o,day:l,setDay:r,time:s,setTime:m,todoProject:d,setTodoProject:i,projects:u,showButtons:E=!1,setShowModal:p=!1}=e;return n.a.createElement(k.a,{utils:w.a},n.a.createElement("form",{onSubmit:t,className:"TodoForm"},n.a.createElement("div",{className:"text"},a&&n.a.createElement("h3",null,a),n.a.createElement("input",{type:"text",value:c,onChange:e=>o(e.target.value),placeholder:"To Do...",autoFocus:!0})),n.a.createElement("div",{className:"remind"},n.a.createElement(N.a,null),n.a.createElement("p",null,"Remind me")),n.a.createElement("div",{className:"pick-day"},n.a.createElement("div",{className:"title"},n.a.createElement(y.a,null),n.a.createElement("p",null,"Choose a day")),n.a.createElement(x.a,{value:l,onChange:e=>{r(e)}})),n.a.createElement("div",{className:"pick-time"},n.a.createElement("div",{className:"title"},n.a.createElement(O.a,null),n.a.createElement("p",null,"Choose Time")),n.a.createElement(C.a,{value:s,onChange:e=>{m(e)}})),n.a.createElement("div",{className:"pick-project"},n.a.createElement("div",{className:"title"},n.a.createElement(S.a,null),n.a.createElement("p",null,"Choose Project")),n.a.createElement("div",{className:"projects"},u.length>0?u.map(e=>n.a.createElement("div",{className:"project ".concat(d===e.name?"active":""),key:e.id,onClick:()=>i(e.name)},e.name)):n.a.createElement("div",{style:{color:"#ff0000"}},"Please add a project before proceeding"))),E&&n.a.createElement("div",null,n.a.createElement("div",{className:"cancel",onClick:()=>{p(!1)}},n.a.createElement(g.a,{size:40})),n.a.createElement("div",{className:"confirm"},n.a.createElement("button",null,"+ Add to do")))))};const T=["today","next 7 days","all days"];var D=a(89),P=a.n(D);var Y=()=>{const{projects:e,selectedProject:t}=Object(c.useContext)(i),[a,o]=Object(c.useState)(!1),[l,r]=Object(c.useState)(" "),[m,u]=Object(c.useState)(new Date),[E,p]=Object(c.useState)(new Date),[j,f]=Object(c.useState)(t);return Object(c.useEffect)(()=>{f(t)},[t]),n.a.createElement("div",{className:"AddNewTodo"},n.a.createElement("div",{className:"btn"},n.a.createElement("button",{onClick:()=>{o(!0)}},"+ New Todo")),n.a.createElement(h,{showModal:a,setShowModal:o},n.a.createElement(M,{handleSubmit:function(e){e.preventDefault(),l&&!T.includes(j)&&(s.firestore().collection("todos").add({text:l,date:d()(m).format("MM/DD/YYYY"),day:d()(m).format("d"),time:d()(E).format("hh:mm A"),checked:!1,color:P()({luminosity:"dark"}),projectName:j}),o(!1),r(""),u(new Date),u(new Date))},heading:"Add new to do!",text:l,setText:r,day:m,setDay:u,time:E,setTime:p,todoProject:j,setTodoProject:f,projects:e,showButtons:!0,setShowModal:o})))},A=a(158),z=a(159);var B=()=>{const{setSelectedProject:e}=Object(c.useContext)(i),[t,a]=Object(c.useState)(!0),o=Object(b.b)({transform:t?"rotate(0deg)":"rotate(180deg)",config:{friction:10}}),l=Object(b.b)({display:t?"block":"none",lineHeight:t?1.2:0});return n.a.createElement("div",{className:"Calendar"},n.a.createElement("div",{className:"header"},n.a.createElement("div",{className:"title"},n.a.createElement(A.a,{size:18}),n.a.createElement("p",null,"Calendar")),n.a.createElement(b.a.div,{style:o,onClick:()=>a(!t),className:"btns"},n.a.createElement("span",null,n.a.createElement(z.a,{size:20})))),n.a.createElement(b.a.div,{style:l,className:"items"},T.map(t=>n.a.createElement("div",{className:"items",key:t,onClick:()=>e(t)},t))))};var F=e=>{let{handleSubmit:t,heading:a,value:c,setValue:o,setShowModal:l,confirmButtonText:r}=e;return n.a.createElement("div",null,n.a.createElement("form",{onSubmit:t,className:"projectForm"},n.a.createElement("h3",null,a),n.a.createElement("input",{value:c,onChange:e=>o(e.target.value),type:"text",placeholder:"Project name...",autoFocus:!0}),n.a.createElement("button",{className:"cancel",role:"button",onClick:()=>l(!1)},"Cancel"),n.a.createElement("button",{className:"confirm"},r)))};var I=e=>{let{project:t,setShowModal:a}=e;const[o,l]=Object(c.useState)(t.name),{selectedProject:r,setSelectedProject:m}=Object(c.useContext)(i);return n.a.createElement("div",{className:"RenameProject"},n.a.createElement(F,{handleSubmit:function(e){e.preventDefault(),((e,t)=>{const a=s.firestore().collection("projects"),c=s.firestore().collection("todos"),{name:n}=e;a.where("name","==",o).get().then(t=>{t.empty?a.doc(e.id).update({name:o}).then(()=>{c.where("projectName","==",n).get().then(e=>{e.forEach(e=>{e.ref.update({projectName:o})})}).then(()=>{r===n&&m(o)})}):alert("Projects with the name already exists")})})(t),a(!1)},heading:"New Project",value:o,setValue:l,setShowModal:a,confirmButtonText:"Confirm"}))},L=a(160),R=a(161);var V=e=>{let{project:t,edit:a}=e;const{defaultProject:o,selectedProject:l,setSelectedProject:r}=Object(c.useContext)(i),[m,d]=Object(c.useState)(!1),u=Object(b.b)({from:{marginTop:"-12px",opacity:0},to:{marginTop:"0px",opacity:1}}),E=Object(b.c)(a,{from:{opacity:0,right:"-20px"},enter:{opacity:1,right:"0px"},leave:{opacity:0,right:"-20px"}});return n.a.createElement(b.a.div,{style:u,className:"Project"},n.a.createElement("div",{className:"name",onClick:()=>r(t.name)},t.name," "),n.a.createElement("div",{className:"btns"},E((e,a)=>a?n.a.createElement(b.a.div,{style:e,className:"edit-delete"},n.a.createElement("span",{className:"edit",onClick:()=>d(!0)},n.a.createElement(L.a,{size:13})),n.a.createElement("span",{className:"delete",onClick:()=>(e=>{s.firestore().collection("projects").doc(e.id).delete().then(()=>{s.firestore().collection("todos").where("projectName","==",e.name).get().then(e=>{e.forEach(e=>{e.ref.delete()})})}).then(()=>{l===e.name&&r(o)})})(t)},n.a.createElement(R.a,{size:13}))):0===t.numOfTodos?" ":n.a.createElement(b.a.div,{style:e,className:"total-todos"},t.numOfTodos))),n.a.createElement(h,{showModal:m,setShowModal:d},n.a.createElement(I,{project:t,setShowModal:d})))},H=a(162);var J=()=>{const[e,t]=Object(c.useState)(!1),[a,o]=Object(c.useState)(" ");return n.a.createElement("div",{className:"AddNewProject"},n.a.createElement("div",{className:"add-button"},n.a.createElement("span",{onClick:()=>t(!0)},n.a.createElement(H.a,{size:20}))),n.a.createElement(h,{showModal:e,setShowModal:t},n.a.createElement(F,{handleSubmit:function(e){if(e.preventDefault(),a){const e=s.firestore().collection("projects");e.where("name","==",a).get().then(t=>{t.empty?e.add({name:a}):alert("Project already exist")}),t(!1),o("")}},heading:"New Project",value:a,setValue:o,setShowModal:t,confirmButtonText:"+ Add Project"})))},K=a(163);var U=()=>{const[e,t]=Object(c.useState)(!0),{projects:a}=Object(c.useContext)(i),[o,l]=Object(c.useState)(!1),r=o?"#1EC94C":"#000000",s=Object(b.b)({transform:e?"rotate(0deg)":"rotate(180deg)",config:{friction:10}}),m=Object(b.b)({display:e?"block":"none",lineHeight:e?1.2:0});return n.a.createElement("div",{className:"Projects"},n.a.createElement("div",{className:"header"},n.a.createElement("div",{className:"title"},n.a.createElement(S.a,{size:18}),n.a.createElement("p",null,"Projects")),n.a.createElement("div",{className:"btns"},e&&a.length>0&&n.a.createElement("span",{className:"edit",onClick:()=>l(e=>!e)},n.a.createElement(K.a,{size:15,color:r})),n.a.createElement(J,null),n.a.createElement(b.a.span,{className:"arrow",onClick:()=>t(!e),style:s},n.a.createElement(z.a,{size:20})))),n.a.createElement(b.a.div,{style:m,className:"items"},a.map(e=>n.a.createElement(V,{project:e,key:e.id,edit:o}))))},_=a(164),X=a(165),q=a(166),G=a(167);var Q=e=>{let{todo:t}=e;const[a,o]=Object(c.useState)(!1),{selectedTodo:l,setSelectedTodo:r}=Object(c.useContext)(i),m=Object(b.b)({from:{marginTop:"-12px",opacity:0},to:{marginTop:"0px",opacity:1}}),u=Object(b.c)(t.checked,{from:{position:"absolute",transform:"scale(0)"},enter:{transform:"scale(1)"},leave:{transform:"scale(0)"}}),E=e=>{s.firestore().collection("todos").doc(e.id).delete()},p=e=>{s.firestore().collection("todos").doc(e.id).update({checked:!e.checked})};return n.a.createElement(b.a.div,{style:m,className:"Todo",onClick:()=>p(t)},n.a.createElement("div",{className:"todo-container",onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1)},n.a.createElement("div",{className:"check-todo",onClick:()=>p(t)},u((e,a)=>a?n.a.createElement(b.a.span,{style:e,className:"chechked"}," ",n.a.createElement(_.a,{color:"#bebebe"})):n.a.createElement(b.a.span,{style:e,className:"unchecked"},n.a.createElement(X.a,{color:t.color})))),n.a.createElement("div",{className:"text",onClick:()=>r(t)},n.a.createElement("p",{style:{color:t.checked?"#bebebe":"#000"}},t.text),n.a.createElement("span",null,t.time," - ",t.projectName),n.a.createElement("div",{className:"line ".concat(t.checked?"line-through":"")})),n.a.createElement("div",{className:"add-to-next-day",onClick:()=>(e=>{const t=d()(e.date,"MM/DD/YYYY").add(1,"days"),a={...e,checked:!1,date:t.format("MM/DD/YYYY"),day:t.format("d")};delete a.id,s.firestore().collection("todos").add(a)})(t)},t.checked&&n.a.createElement("span",null,n.a.createElement(q.a,null))),n.a.createElement("div",{className:"delete-todo",onClick:()=>(e=>{E(e),l===e&&r(void 0)})(t)},(a||t.checked)&&n.a.createElement("span",null,n.a.createElement(G.a,null)))))};var W=e=>{let{todos:t}=e;const[a,o]=Object(c.useState)([]);return Object(c.useEffect)(()=>{const e=["0","1","2","3","4","5","6"].map(e=>({todos:t.filter(t=>t.day===e),number:e})),a=parseInt(d()().format("d")),c=e.slice(a).concat(e.slice(0,a));o(c)},[t]),n.a.createElement("div",{className:"Next7Days"},a.map(e=>n.a.createElement("div",{key:e.number},n.a.createElement("div",{className:"day"},n.a.createElement("div",{className:"name"},d()(e.number,"d").format("dddd"),e.number===d()().format("d")&&"(Today)"),n.a.createElement("div",{className:"total-todos"},"(",e.todos.length,")")),n.a.createElement("div",{className:"todos"},e.todos.map(e=>n.a.createElement(Q,{key:e.id,todo:e}))))))};var Z=()=>{const{todos:e,selectedProject:t}=Object(c.useContext)(i);return n.a.createElement("div",{className:"Todos"},n.a.createElement("div",{className:"selected-project"},t),n.a.createElement("div",{className:"todos"},"next 7 days"===t?n.a.createElement(W,{todos:e}):e.map(e=>n.a.createElement(Q,{todo:e,key:e.id}))))};var $=function(){const[e,t]=Object(c.useState)(" "),[a,o]=Object(c.useState)(new Date),[l,r]=Object(c.useState)(new Date),[m,u]=Object(c.useState)(""),{selectedTodo:E,projects:p}=Object(c.useContext)(i);return Object(c.useEffect)(()=>{E&&(t(E.text),o(d()(E.date,"MM/DD/YYYY")),r(d()(E.time,"hh:mm A")),u(E.projectName))},[E]),Object(c.useEffect)(()=>{E&&s.firestore().collection("todos").doc(E.id).update({text:e,date:d()(a).format("MM/DD/YYYY"),day:d()(a).format("d"),time:d()(l).format("hh:mm A"),projectName:m})},[e,a,l,m]),n.a.createElement("div",null,E&&n.a.createElement("div",{className:"EditTodo"},n.a.createElement("div",{className:"header"},"Edit Todo"),n.a.createElement("div",{className:"container"},n.a.createElement(M,{handleSubmit:function(e){},text:e,setText:t,day:a,setDay:o,time:l,setTime:r,todoProject:m,setTodoProject:u,projects:p}))))};var ee=function(){return n.a.createElement("div",{className:"App"},n.a.createElement(E,null,n.a.createElement(v,null),n.a.createElement(Y,null),n.a.createElement(B,null),n.a.createElement(U,null)),n.a.createElement(p,null,n.a.createElement(Z,null),n.a.createElement($,null)))};l.a.createRoot(document.getElementById("root")).render(n.a.createElement(u,null,n.a.createElement(ee,null)))},87:function(e,t,a){e.exports=a.p+"static/media/logo.d7a8c2fd.png"}},[[103,1,2]]]);
//# sourceMappingURL=main.87fd505b.chunk.js.map